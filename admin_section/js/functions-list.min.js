var saswp_meta_list=[],saswp_meta_fields=[],saswp_meta_list_fields=[],saswp_taxonomy_term=[],saswp_collection=[],saswp_total_collection=[],saswp_total_reviews=[],saswp_coll_json=null,saswp_grid_page=1;function saswp_convert_datetostring(f){var c={};if(f){var a=new Date(f),g=a.getDate(),d=a.getMonth();d+=1;var h=a.getFullYear(),e=a.toLocaleDateString(),b=jQuery(".saswp-collection-date-format").val();b&&"Y-m-d"==b&&(e=h+"-"+d+"-"+g),b&&"d-m-Y"==b&&(e=g+"-"+d+"-"+h),c={time:a.toLocaleTimeString(),date:e}}else c={time:"",date:""};return c}function saswp_taxonomy_term_html(b,c){var a="";return a+="<td>",a+='<select name="saswp_taxonomy_term['+c+']">',jQuery.each(b,function(b,c){a+='<option value="'+b+'">'+c+"</option>"}),a+="</select>",a+="</td>",a+='<td><a class="button button-default saswp-rmv-modify_row">X</a></td>'}function saswp_enable_rating_review(){var a="";jQuery("select#schema_type option:selected").val()&&(a=jQuery("select#schema_type option:selected").val()),jQuery(".saswp-tab-links.selected").attr("saswp-schema-type")&&(a=jQuery(".saswp-tab-links.selected").attr("saswp-schema-type")),a&&(jQuery(".saswp-enable-rating-review-"+a.toLowerCase()).change(function(){jQuery(this).is(":checked")?jQuery(this).parent().parent().siblings(".saswp-rating-review-"+a.toLowerCase()).show():jQuery(this).parent().parent().siblings(".saswp-rating-review-"+a.toLowerCase()).hide(),saswp_enable_rating_automate()}).change(),jQuery("#saswp_schema_type_product_pros_enable_pros").change(function(){jQuery(this).is(":checked")?jQuery(".thepros_main_section_outer").show():jQuery(".thepros_main_section_outer").hide()}).change())}function saswp_enable_rating_automate(){var a="";jQuery("select#schema_type option:selected").val()&&(a=jQuery("select#schema_type option:selected").val()),jQuery(".saswp-tab-links.selected").attr("saswp-schema-type")&&(a=jQuery(".saswp-tab-links.selected").attr("saswp-schema-type")),a&&jQuery(".saswp-enable-rating-automate-"+a.toLowerCase()).change(function(){jQuery(this).is(":checked")&&jQuery(this).is(":visible")?(jQuery(this).parent().parent().next().show(),jQuery(this).parent().parent().next().next().hide(),jQuery(this).parent().parent().next().next().next().hide()):(jQuery(this).parent().parent().next().hide(),jQuery(".saswp-enable-rating-review-"+a.toLowerCase()).is(":checked")&&(jQuery(this).parent().parent().next().next().show(),jQuery(this).parent().parent().next().next().next().show()))}).change()}function getParameterByName(a,b){b||(b=window.location.href),a=a.replace(/[\[\]]/g,"\\$&");var c=new RegExp("[?&]"+a+"(=([^&#]*)|&|#|$)").exec(b);return c?c[2]?decodeURIComponent(c[2].replace(/\+/g," ")):"":null}function saswpCustomSelect2(){("saswp"==saswp_localize_data.post_type||"saswp"==saswp_localize_data.page_now)&&"saswp_page_structured_data_options"!=saswp_localize_data.page_now&&jQuery(".saswp-custom-fields-select2").length&&jQuery(".saswp-custom-fields-select2").select2({ajax:{type:"POST",url:ajaxurl,dataType:"json",delay:250,data:function(a){return{saswp_security_nonce:saswp_localize_data.saswp_security_nonce,q:a.term,action:"saswp_get_custom_meta_fields"}},processResults:function(a){return{results:a}},cache:!0},minimumInputLength:2})}function saswp_reviews_datepicker(){jQuery(".saswp-reviews-datepicker-picker").datepicker({dateFormat:"yy-mm-dd"})}function saswp_schema_datepicker(){jQuery(".saswp-datepicker-picker").datepicker({dateFormat:"yy-mm-dd"})}function saswp_schema_timepicker(){jQuery(".saswp-timepicker").timepicker({timeFormat:"H:i:s"})}function saswp_item_reviewed_ajax(c,a,d=null){var e=a.val(),f=saswp_localize_data.post_id,b=jQuery(a).attr("data-id"),g=jQuery(a).attr("post-specific"),h=jQuery(".saswp_modify_this_schema_hidden_"+b).val();append_id=null==d?jQuery("#saswp_specific_"+b):jQuery(".saswp-manual-modification"),jQuery.get(ajaxurl,{action:"saswp_get_item_reviewed_fields",modify_this:h,schema_type:c,schema_id:b,post_specific:g,item:e,post_id:f,saswp_security_nonce:saswp_localize_data.saswp_security_nonce},function(a){jQuery(append_id).find(".saswp-table-create-onajax").remove();var b=jQuery(append_id).find(".saswp-table-create-onload");jQuery.each(b,function(a,b){0!=a&&jQuery(this).remove()}),jQuery(append_id).append(a),saswp_schema_datepicker(),saswp_schema_timepicker()})}function saswp_item_reviewed_call(){jQuery(".saswp-item-reviewed").change(function(b){b.preventDefault();var a="";jQuery("select#schema_type option:selected").val()&&(a=jQuery("select#schema_type option:selected").val()),jQuery(".saswp-tab-links.selected").attr("saswp-schema-type")&&(a=jQuery(".saswp-tab-links.selected").attr("saswp-schema-type")),"Review"===a&&saswp_item_reviewed_ajax(a,jQuery(this))}).change()}function saswp_compatibliy_notes(b,c){var a=c.replace("-checkbox",""),d=jQuery("#"+a).next("p").text();b.is(":checked")&&""!==d?jQuery("#"+a).next("p").removeClass("saswp_hide"):1==jQuery("#"+a).next("p").attr("data-id")?jQuery("#"+a).next("p").text("This feature is only available in pro version"):jQuery("#"+a).next("p").addClass("saswp_hide")}function saswp_meta_list_html(b,h,e,i,j,k){var f=i;null==f&&(f=Object.keys(e)[0]);var c="";if(c+='<select class="saswp-custom-meta-list" name="saswp_meta_list_val['+f+']">',jQuery.each(h,function(b,a){c+='<optgroup label="'+a.label+'">',jQuery.each(a["meta-list"],function(a,b){c+='<option value="'+a+'">'+b+"</option>"}),c+="</optgroup>"}),c+="</select>",e){var d=jQuery("select#schema_type option:selected").val(),g="";"Review"==d&&(g=jQuery("select.saswp-item-reivewed-list option:selected").val());var a="<tr>";a+="<td>",a+='<select class="saswp-custom-fields-name">',"Review"==d&&(a+='<optgroup label="Review">',a+='<option value="saswp_review_name">Review Name</option>',a+='<option value="saswp_review_description">Review Description</option>',a+='<option value="saswp_review_body">Review Body</option>',a+='<option value="saswp_review_author">Review Author</option>',a+='<option value="saswp_review_author_url">Review Author Profile URL</option>',a+='<option value="saswp_review_publisher">Review Publisher</option>',a+='<option value="saswp_review_publisher_url">Review Publisher URL</option>',a+='<option value="saswp_review_rating_value">Review Rating Value</option>',a+='<option value="saswp_review_date_published">Review Published Date</option>',a+='<option value="saswp_review_date_modified">Review Modified Date</option>',a+='<option value="saswp_review_url">Review URL</option>',a+="</optgroup>"),"Review"==d&&(a+='<optgroup label="'+g+'">'),jQuery.each(e,function(b,c){a+='<option value="'+b+'">'+c+"</option>"}),"Review"==d&&(a+="</optgroup>"),a+="</select>",a+="</td>",a+="<td>",a+=c,a+="</td>",a+='<td></td><td><a class="button button-default saswp-rmv-modify_row">X</a></td>',a+="</tr>",jQuery(".saswp-custom-fields-table").append(a),null!=b&&b.removeClass("updating-message")}else jQuery(j).html(c),null!=b&&b.removeClass("updating-message")}function saswp_get_meta_list(b,a,c,d,e,f){saswp_meta_list[a]?saswp_meta_list_html(b,saswp_meta_list[a],c,e,d,f):jQuery.get(ajaxurl,{action:"saswp_get_meta_list",saswp_security_nonce:saswp_localize_data.saswp_security_nonce},function(g){saswp_meta_list[a]=g[a],saswp_meta_list_html(b,saswp_meta_list[a],c,e,d,f)},"json")}function saswp_get_post_specific_schema_fields(e,f,g,c,a,b,h){if(saswp_meta_fields[b]){var d=saswp_fields_html_generator(f,a,b,c,saswp_meta_fields[b]);d&&(jQuery(".saswp-"+c+'-section[data-id="'+a+'"]').append(d),saswp_schema_datepicker(),saswp_schema_timepicker(),e.removeClass("updating-message"))}else jQuery.get(ajaxurl,{action:"saswp_get_schema_dynamic_fields_ajax",schema_id:a,schema_type:h,meta_name:g,saswp_security_nonce:saswp_localize_data.saswp_security_nonce},function(d){saswp_meta_fields[b]=d;var g=saswp_fields_html_generator(f,a,b,c,d);g&&(jQuery(".saswp-"+c+'-section[data-id="'+a+'"]').append(g),saswp_schema_datepicker(),saswp_schema_timepicker(),e.removeClass("updating-message"))},"json")}function saswp_fields_html_generator(b,f,a,c,e){$newclosebtn="",otherRepeatorClose="",$reviewtitle=b+1,"product_pros_"==a||"product_cons_"==a?$newclosebtn='<td class="saswp-table-close-new-td"><a class="saswp-table-close-new">X</a></td>':otherRepeatorClose='<a class="saswp-table-close">X</a>',$addRevewTitle="","product_reviews_"==a&&($addRevewTitle='<h3 style="float: left;">Review '+$reviewtitle+"</h3>");var d="";return d+='<div class="saswp-'+c+'-table-div saswp-dynamic-properties" data-id="'+b+'">'+$addRevewTitle+otherRepeatorClose+'<table class="form-table saswp-'+c+'-table">',jQuery.each(e,function(h,c){var e="";switch((c.name.indexOf("published_date")> -1||c.name.indexOf("date_created")> -1||c.name.indexOf("created_date")> -1||c.name.indexOf("modified_date")> -1||c.name.indexOf("date_published")> -1||c.name.indexOf("date_modified")> -1)&&(e="saswp-datepicker-picker"),c.type){case"number":case"text":d+="<tr><th>"+c.label+'</th><td><input class="'+e+'" style="width:100%" type="'+c.type+'" id="'+c.name+"_"+b+"_"+f+'" name="'+a+f+"["+b+"]["+c.name+']"></td>'+$newclosebtn+"</tr>";break;case"textarea":d+="<tr><th>"+c.label+'</th><td><textarea style="width: 100%" id="'+c.name+"_"+b+"_"+f+'" name="'+a+f+"["+b+"]["+c.name+']" rows="5"></textarea></td></tr>';break;case"select":var g="";jQuery.each(c.options,function(a,b){g+='<option value="'+a+'">'+b+"</option>"}),d+="<tr><th>"+c.label+'</th><td><select id="'+c.name+"_"+b+"_"+f+'" name="'+a+f+"["+b+"]["+c.name+']">'+g+"</select></td></tr>";break;case"media":d+="<tr><th>"+c.label+'</th><td><fieldset><input style="width:80%" type="text" id="'+c.name+"_"+b+"_"+f+'" name="'+c.name+"_"+b+"_"+f+'"><input type="hidden" data-id="'+c.name+"_"+b+"_"+f+'_id" name="'+a+f+"["+b+"]["+c.name+'_id]" id="'+c.name+"_"+b+"_"+f+'_id"><input data-id="media" style="width: 19%" class="button" id="'+c.name+"_"+b+"_"+f+'_button" name="'+c.name+"_"+b+"_"+f+'_button" type="button" value="Upload"><div class="saswp_image_div_'+c.name+"_"+b+"_"+f+'"></div></fieldset></td></tr>'}}),d+="</table></div>"}function saswp_create_total_collection(c,d){var b="";for(var a in saswp_total_collection=[],saswp_collection)saswp_collection[a]&&(jQuery.each(saswp_collection[a],function(b,a){rmv_boolean?a.is_remove=!0:a.is_remove=!1,c?a.saswp_review_rating>=d&&saswp_total_collection.push(a):saswp_total_collection.push(a)}),b+=saswp_function_added_platform(a,saswp_collection[a].length));jQuery(".saswp-platform-added-list").html(""),jQuery(".saswp-platform-added-list").append(b)}function saswp_create_rating_html_by_value(c){var a="";a+='<div class="saswp-rvw-str">';for(var b=0;b<5;b++)if(c>b){var d=c.split(".");d[1]?b<d[0]?a+='<span class="str-ic"></span>':a+='<span class="half-str"></span>':a+='<span class="str-ic"></span>'}else a+='<span class="df-clr"></span>';return a+"</div>"}function saswpChunkArray(c,d){for(var a=JSON.parse(JSON.stringify(c)),b=[];a.length;)b.push(a.splice(0,d));return b}function saswp_function_added_platform(b,c){var a="";return c>0&&(a+='<div class="cancel-btn">',a+="<span>"+jQuery("#saswp-plaftorm-list option[value="+b+"]").text()+"</span><span>("+c+")</span>",a+='<input type="hidden" name="saswp_platform_ids['+b+']" value="'+c+'">',a+='<a platform-id="'+b+'" class="button button-default saswp-remove-platform"></a>',a+="</div>"),a}function saswpCollectionSlider(){jQuery(".saswp-cs").each(function(){var a=jQuery(this),b=a.find(".saswp-sic");function c(){var a=0;jQuery(b).find(".saswp-si").each(function(){a+=jQuery(this).outerWidth()}),b.width(a)}function d(){if(jQuery(".saswp-si.saswp-active").length>0){var a=b.find(".saswp-si.saswp-active").offset().left,c=b.offset().left,d=a-c;b.css({transform:"translate( -"+d+"px, 0px)"})}}0==b.find(".saswp-si.saswp-active").length&&b.find(".saswp-si").first().addClass("saswp-active"),c(),d(),function(){var c=b.find(".saswp-si.saswp-active").index(),d=b.find(".saswp-si").length;for(i=0;i<d;i++)a.find(".saswp-slider-dots").append("<div class='saswp-dot'></div>");a.find(".saswp-slider-dots").find(".saswp-dot").eq(c).addClass("saswp-active")}(),jQuery(document).ready(function(){c(),d()}),jQuery(window).resize(function(){c(),d()});var e=a.find(".saswp-slider-controls").find(".saswp-slider-next-btn"),f=a.find(".saswp-slider-controls").find(".saswp-slider-prev-btn");e.on("click",function(i){var d,f,c,e,g,h;i.preventDefault(),d=b.find(".saswp-si.saswp-active").index(),f=b.find(".saswp-si").length,c=0,c=d+1>f-1?0:d+1,e=b.find(".saswp-si").eq(c),g=b.offset().left,h=e.offset().left-g,b.find(".saswp-si.saswp-active").removeClass("saswp-active"),e.addClass("saswp-active"),a.find(".saswp-slider-dots").find(".saswp-dot").removeClass("saswp-active"),a.find(".saswp-slider-dots").find(".saswp-dot").eq(c).addClass("saswp-active"),b.css({transform:"translate( -"+h+"px, 0px)"})}),f.on("click",function(i){var d,f,c,e,g,h;i.preventDefault(),d=b.find(".saswp-si.saswp-active").index(),f=b.find(".saswp-si").length,c=0,c=d-1<0?f-1:d-1,e=b.find(".saswp-si").eq(c),g=b.offset().left,h=e.offset().left-g,b.find(".saswp-si.saswp-active").removeClass("saswp-active"),e.addClass("saswp-active"),a.find(".saswp-slider-dots").find(".saswp-dot").removeClass("saswp-active"),a.find(".saswp-slider-dots").find(".saswp-dot").eq(c).addClass("saswp-active"),b.css({transform:"translate( -"+h+"px, 0px)"})}),a.find(".saswp-slider-dots").find(".saswp-dot").on("click",function(e){var c=jQuery(this).index(),d=b.find(".saswp-si").eq(c).offset().left-b.offset().left;b.find(".saswp-si.saswp-active").removeClass("saswp-active"),b.find(".saswp-si").eq(c).addClass("saswp-active"),a.find(".saswp-slider-dots").find(".saswp-dot").removeClass("saswp-active"),jQuery(this).addClass("saswp-active"),b.css({transform:"translate( -"+d+"px, 0px)"})})})}function saswp_review_desing_for_slider(b){var c=saswp_convert_datetostring(b.saswp_review_date),a="";return a+='<div class="saswp-r2-sli">',a+='<div class="saswp-r2-b">',a+='<div class="saswp-r2-q">',a+='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Capa_1" x="0px" y="0px" width="95.333px" height="95.332px" viewBox="0 0 95.333 95.332" style="enable-background:new 0 0 95.333 95.332;" xml:space="preserve"><path d="M30.512,43.939c-2.348-0.676-4.696-1.019-6.98-1.019c-3.527,0-6.47,0.806-8.752,1.793    c2.2-8.054,7.485-21.951,18.013-23.516c0.975-0.145,1.774-0.85,2.04-1.799l2.301-8.23c0.194-0.696,0.079-1.441-0.318-2.045    s-1.035-1.007-1.75-1.105c-0.777-0.106-1.569-0.16-2.354-0.16c-12.637,0-25.152,13.19-30.433,32.076    c-3.1,11.08-4.009,27.738,3.627,38.223c4.273,5.867,10.507,9,18.529,9.313c0.033,0.001,0.065,0.002,0.098,0.002    c9.898,0,18.675-6.666,21.345-16.209c1.595-5.705,0.874-11.688-2.032-16.851C40.971,49.307,36.236,45.586,30.512,43.939z"></path><path d="M92.471,54.413c-2.875-5.106-7.61-8.827-13.334-10.474c-2.348-0.676-4.696-1.019-6.979-1.019    c-3.527,0-6.471,0.806-8.753,1.793c2.2-8.054,7.485-21.951,18.014-23.516c0.975-0.145,1.773-0.85,2.04-1.799l2.301-8.23    c0.194-0.696,0.079-1.441-0.318-2.045c-0.396-0.604-1.034-1.007-1.75-1.105c-0.776-0.106-1.568-0.16-2.354-0.16    c-12.637,0-25.152,13.19-30.434,32.076c-3.099,11.08-4.008,27.738,3.629,38.225c4.272,5.866,10.507,9,18.528,9.312    c0.033,0.001,0.065,0.002,0.099,0.002c9.897,0,18.675-6.666,21.345-16.209C96.098,65.559,95.376,59.575,92.471,54.413z"></path></svg>',a+="</div>",a+='<div class="saswp-rc-cnt">',a+="<p>",a+=b.saswp_review_text,a+="</p>",a+="</div>",a+='<div class="saswp-r2-strs">',a+='<span class="saswp-r2-s">',a+=saswp_create_rating_html_by_value(b.saswp_review_rating),a+="</span>",a+="</div>",a+="</div>",a+='<div class="saswp-rc">',a+='<div class="saswp-rc-a">',a+='<img src="'+b.saswp_reviewer_image+'"/>',a+='<div class="saswp-rc-nm">',a+='<a href="#">'+b.saswp_reviewer_name+"</a>",a+='<span class="saswp-rc-dt">'+c.date+"</span>",a+="</div>",a+='<div class="saswp-rc-lg">',a+='<img src="'+b.saswp_review_platform_icon+'"/>',a+="</div>",a+="</div>",a+="</div>",a+="</div>"}function saswp_create_collection_slider(b,d,e){var a="";if(saswp_total_collection.length>0){if("slider"==b?a+='<div class="saswp-cst">':a+='<div class="saswp-cct">',a+='<div class="saswp-cs">',a+='<div class="saswp-sic">',"slider"==b&&jQuery.each(saswp_total_collection,function(c,b){a+='<div class="saswp-si">',a+=saswp_review_desing_for_slider(b),a+="</div>"}),"carousel"==b){var c=saswpChunkArray(saswp_total_collection,3);c&&jQuery.each(c,function(c,b){a+='<div class="saswp-si">',jQuery.each(b,function(c,b){a+=saswp_review_desing_for_slider(b)}),a+="</div>"})}a+="</div>",d&&(a+='<div class="saswp-slider-controls">',a+='<a href="#" class="saswp-slider-prev-btn"></a>',a+='<a href="#" class="saswp-slider-next-btn"></a>',a+="</div>"),e&&(a+='<div class="saswp-slider-dots">',a+="</div>"),a+="</div>",a+="</div>"}jQuery(".saswp-collection-preview").html(""),jQuery(".saswp-collection-preview").append(a),saswpCollectionSlider()}function saswp_create_collection_badge(){var a="";if(saswp_total_collection.length>0){for(var c in a+='<div class="saswp-rd3-warp">',a+="<ul>",saswp_collection){var f="",g="",d=0,e=0,b=1,h="";jQuery.each(saswp_collection[c],function(b,a){h=a.saswp_review_location_id,f=a.saswp_review_platform_icon,g=a.saswp_review_platform_name,"Self"==g&&(g=saswp_localize_data.trans_self),e+=parseFloat(a.saswp_review_rating),d++}),e>0&&(b=e/d),saswp_collection[c]&&(a+="<li>",a+='<a target="_blank" href="'+h+'">',a+='<div class="saswp-r3-lg">',a+="<span>",a+='<img src="'+f+'"/>',a+="</span>",a+='<span class="saswp-r3-tlt">'+g+'</span">',a+="</div>",a+='<div class="saswp-r3-rtng">',a+='<div class="saswp-r3-rtxt">',a+='<span class="saswp-r3-num">',a+=b.toFixed(1),a+="</span>",a+='<span class="saswp-stars">',a+=saswp_create_rating_html_by_value(b.toString()),a+="</span>",a+="</div>",a+='<span class="saswp-r3-brv">',a+=saswp_localize_data.trans_based_on+" "+d+" "+saswp_localize_data.trans_reviews,a+="</span>",a+="</div>",a+="</a>",a+="</li>")}a+="</ul>",a+="</div>"}jQuery(".saswp-collection-preview").html(""),jQuery(".saswp-collection-preview").append(a)}function saswp_create_collection_popup(){var a="",e="";if(saswp_total_collection.length>0){var c=0,d=0,b=1;jQuery.each(saswp_total_collection,function(f,a){platform_icon=a.saswp_review_platform_icon,d+=parseFloat(a.saswp_review_rating),c++;var b=saswp_convert_datetostring(a.saswp_review_date);e+="<li>",e+='<div class="saswp-r4-b">',e+='<span class="saswp-r4-str">',e+=saswp_create_rating_html_by_value(a.saswp_review_rating),e+="</span>",e+='<span class="saswp-r4-tx">'+b.date+"</span>",e+="</div>",e+='<div class="saswp-r4-cnt">',e+="<h3>"+a.saswp_reviewer_name+"</h3>",e+="<p>"+a.saswp_review_text+"</p>",e+="</div>",e+="</li>"}),d>0&&(b=d/c),c>0&&(a+='<div id="saswp-sticky-review">',a+='<div class="saswp-open-class saswp-popup-btn">',a+='<div class="saswp-opn-cls-btn">',a+='<div class="saswp-onclick-hide">',a+="<span>",a+=saswp_create_rating_html_by_value(b.toString()),a+="</span>",a+='<span class="saswp-r4-rnm">'+b.toFixed(1)+" from "+c+" reviews</span>",a+="</div>",a+='<div class="saswp-onclick-show">',a+="<span>Ratings and reviews</span>",a+='<span class="saswp-mines"></span>',a+="</div>",a+="</div>",a+='<div id="saswp-reviews-cntn">',a+='<div class="saswp-r4-info">',a+="<ul>",a+='<li class="saswp-r4-r">',a+="<span>",a+=saswp_create_rating_html_by_value(b.toString()),a+="</span>",a+='<span class="saswp-r4-rnm">'+b.toFixed(1)+" from "+c+" reviews</span>",a+="</li>",a+=e,a+="</ul>",a+="</div>",a+="</div>",a+="</div>",a+="</div>")}jQuery(".saswp-collection-preview").html(""),jQuery(".saswp-collection-preview").append(a)}function saswp_create_collection_fomo(a,b){var c="";saswp_total_collection.length>0&&jQuery.each(saswp_total_collection,function(b,a){var d=saswp_convert_datetostring(a.saswp_review_date);c+='<div id="'+b+'" class="saswp-r5">',c+='<div class="saswp-r5-r">',c+='<div class="saswp-r5-lg">',c+="<span>",c+='<img height="70" width="70" src="'+a.saswp_review_platform_icon+'"/>',c+="</span>",c+="</div>",c+='<div class="saswp-r5-rng">',c+=saswp_create_rating_html_by_value(a.saswp_review_rating),c+='<div class="saswp-r5-txrng">',c+="<span>"+a.saswp_review_rating+" Stars</span>",c+="<span>by</span>",c+="<span>"+a.saswp_reviewer_name+"</span>",c+="</div>",c+='<span class="saswp-r5-dt">'+d.date+"</span>",c+="</div>",c+="</div>",c+="</div>"}),jQuery(".saswp-collection-preview").html(""),jQuery(".saswp-collection-preview").append(c),saswp_fomo_slide(a,b)}function saswp_fomo_slide(c,d){var a=jQuery(".saswp-collection-preview .saswp-r5"),e=a.length,f=0;function b(){a.eq(f%e).fadeIn(6e3,function(){a.eq(f%e).fadeOut(3e3,b),f++})}b()}function saswp_collection_sorting(a){if(saswp_total_collection.length>0)switch(a){case"lowest":saswp_total_collection.sort(function(a,b){return a.saswp_review_rating-b.saswp_review_rating});break;case"highest":saswp_total_collection.sort(function(a,b){return a.saswp_review_rating-b.saswp_review_rating}),saswp_total_collection.reverse();break;case"newest":case"recent":saswp_total_collection.sort(function(a,b){var c=new Date(a.saswp_review_date),d=new Date(b.saswp_review_date);return c-d}),saswp_total_collection.reverse();break;case"oldest":saswp_total_collection.sort(function(a,b){var c=new Date(a.saswp_review_date),d=new Date(b.saswp_review_date);return c-d});break;case"random":saswp_total_collection.sort(function(a,b){return .5-Math.random()})}}function saswp_collection_total_reviews_id(){if(saswp_total_collection.length>0){saswp_total_reviews=[],jQuery.each(saswp_total_collection,function(b,a){saswp_total_reviews.push(a.saswp_review_id)});var a='<input type="hidden" id="saswp_total_reviews_list" name="saswp_total_reviews" value="'+JSON.stringify(saswp_total_reviews)+'">';jQuery(".saswp-total-reviews-list").html(""),jQuery(".saswp-total-reviews-list").append(a)}}function saswp_create_collection_grid(g,h,i,j,k){var a="",d="",c=0;if(saswp_total_collection.length>0){c=Math.ceil(saswp_total_collection.length/i),a+='<div class="saswp-r1">';for(var b=1;b<=g;b++)d+=" 1fr";if(g.length>3?a+='<ul style="grid-template-columns:'+d+';overflow-y: scroll;">':a+='<ul style="grid-template-columns:'+d+';overflow-y:hidden;">',saswp_total_collection){var e=saswp_total_collection;h&&i>0&&(e=e.slice(j,k)),jQuery.each(e,function(d,b){var c=saswp_convert_datetostring(b.saswp_review_date);a+="<li>",a+='<div class="saswp-rc">',a+='<div class="saswp-rc-a">',a+='<div class="saswp-r1-aimg">',a+='<img src="'+b.saswp_reviewer_image+'" width="56" height="56"/>',a+="</div>",a+='<div class="saswp-rc-nm">',a+='<a href="#">'+b.saswp_reviewer_name+"</a>",a+=saswp_create_rating_html_by_value(b.saswp_review_rating),c.date&&(a+='<span class="saswp-rc-dt">'+c.date+"</span>"),a+="</div>",a+="</div>",a+='<div class="saswp-rc-lg">',a+='<img src="'+b.saswp_review_platform_icon+'"/>',a+="</div>",a+="</div>",a+='<div class="saswp-rc-cnt">',a+="<p>"+b.saswp_review_text+"</p>",a+="</div>",b.is_remove&&(a+='<span platform-id="'+b.saswp_review_platform+'" data-id="'+b.saswp_review_id+'" class="dashicons dashicons-remove saswp-remove-coll-rv"></span>'),a+="</li>"})}if(a+="</ul>",c>0&&h){a+='<div class="saswp-grid-pagination">',a+='<a class="saswp-grid-page" data-id="1" href="#">&laquo;</a>';for(var l=parseInt(saswp_grid_page)-3,m=parseInt(saswp_grid_page)+3,b=1;b<=c;b++){var f="saswp_hide";b>l&&b<m&&(f=""),b==saswp_grid_page?a+='<a class="active saswp-grid-page '+f+'" data-id="'+b+'" href="#">'+b+"</a>":a+='<a class="saswp-grid-page '+f+'" data-id="'+b+'" href="#">'+b+"</a>"}a+='<a class="saswp-grid-page" data-id="'+c+'" href="#">&raquo;</a>',a+="</div>"}a+="</div>"}jQuery(".saswp-collection-preview").html(""),jQuery(".saswp-collection-preview").append(a)}function saswp_create_collection_by_design(a,b,c,d,e,f,g,h,i,j,k){switch(a){case"grid":saswp_create_collection_grid(b,h,i,j,k);break;case"gallery":saswp_create_collection_slider(c,d,e);break;case"badge":saswp_create_collection_badge();break;case"popup":saswp_create_collection_popup();break;case"fomo":saswp_create_collection_fomo(f,g)}}function saswp_on_collection_design_change(){var j=jQuery(".saswp-collection-sorting").val(),k=jQuery("#saswp_collection_specific_rating_sel").val(),l=jQuery(".saswp-collection-desing").val(),m=jQuery("#saswp-collection-cols").val(),n=jQuery(".saswp-slider-type").val(),c=jQuery("#saswp_fomo_interval").val(),a=parseInt(jQuery("#saswp-coll-per-page").val()),d=!1,e=0,b=a,f=!1;if(jQuery("#saswp-coll-pagination").is(":checked")){d=!0;var g=saswp_grid_page;g>0&&(b=g*a),e=b-a}if(jQuery("#saswp_collection_specific_rating").is(":checked")&&(f=!0),jQuery("#saswp_gallery_arrow").is(":checked"))var h=!0;else var h=!1;if(jQuery("#saswp_gallery_dots").is(":checked"))var i=!0;else var i=!1;saswp_create_total_collection(f,k),saswp_collection_sorting(j),saswp_collection_total_reviews_id(),saswp_create_collection_by_design(l,m,n,h,i,c,c,d,a,e,b)}function saswp_get_collection_data(a,b,e=null,c=null,d=null){jQuery.get(ajaxurl,{action:"saswp_add_to_collection",rvcount:a,reviews_ids:d,review_id:c,platform_id:b,saswp_security_nonce:saswp_localize_data.saswp_security_nonce},function(a){a.status&&(jQuery.each(a.message,function(e,c){var a=JSON.parse(c.saswp_review_platform),b=[];if(b.push(c),void 0===saswp_collection[a])saswp_collection[a]=b;else{var d=[...new Set([...saswp_collection[a],...b])];saswp_collection[a]=d}}),saswp_on_collection_design_change()),e&&e.removeClass("updating-message")},"json")}function saswpIsEmail(a){return/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(a)}function saswp_select2(){var a=jQuery(".saswp-select2");a.length>0&&jQuery(a).each(function(f,g){var a=jQuery(this),b=jQuery("option[value]:not([selected])",a),c=[];b.each(function(){var a=jQuery(this);c.push({id:a.attr("value"),text:a.text()})});var d=a.attr("data-type"),e=ajaxurl+"?action=saswp_get_select2_data&saswp_security_nonce="+saswp_localize_data.saswp_security_nonce+"&type="+d;a.select2({ajax:{url:e,delay:250,cache:!1},minimumInputLength:2,minimumResultsForSearch:50,dataAdapter:jQuery.fn.select2.amd.require("select2/data/extended-ajax"),defaultResults:c})})}