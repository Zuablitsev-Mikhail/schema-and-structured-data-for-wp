var saswp_meta_list=[],saswp_meta_fields=[],saswp_meta_list_fields=[],saswp_taxonomy_term=[],saswp_collection=[],saswp_total_collection=[],saswp_total_reviews=[],saswp_coll_json=null,saswp_grid_page=1;function saswp_convert_datetostring(s){var a={};if(s){var e=new Date(s),t=e.getDate(),n=e.getMonth();n+=1;var p=e.getFullYear(),l=e.toLocaleDateString(),c=jQuery(".saswp-collection-date-format").val();c&&"Y-m-d"==c&&(l=p+"-"+n+"-"+t),c&&"d-m-Y"==c&&(l=t+"-"+n+"-"+p),c&&"days"==c&&(l=saswp_get_day_ago(e)),a={time:e.toLocaleTimeString(),date:l}}else a={time:"",date:""};return a}function saswp_get_day_ago(s){"object"!=typeof s&&(s=new Date(s));var a,e=Math.floor((new Date-s)/1e3),t=Math.floor(e/31536e3);return t>=1?a="year":(t=Math.floor(e/2592e3))>=1?a="month":(t=Math.floor(e/86400))>=1?a="day":(t=Math.floor(e/3600))>=1?a="hour":(t=Math.floor(e/60))>=1?a="minute":(t=e,a="second"),(t>1||0===t)&&(a+="s"),t+" "+a+" ago"}function saswp_taxonomy_term_html(s,a){var e="";return e+="<td>",e+='<select name="saswp_taxonomy_term['+a+']">',jQuery.each(s,function(s,a){e+='<option value="'+s+'">'+a+"</option>"}),e+="</select>",e+="</td>",e+='<td><a class="button button-default saswp-rmv-modify_row">X</a></td>'}function saswp_enable_rating_review(){var s="";jQuery("select#schema_type option:selected").val()&&(s=jQuery("select#schema_type option:selected").val()),jQuery(".saswp-tab-links.selected").attr("saswp-schema-type")&&(s=jQuery(".saswp-tab-links.selected").attr("saswp-schema-type")),s&&(jQuery(".saswp-enable-rating-review-"+s.toLowerCase()).change(function(){jQuery(this).is(":checked")?jQuery(this).parent().parent().siblings(".saswp-rating-review-"+s.toLowerCase()).show():jQuery(this).parent().parent().siblings(".saswp-rating-review-"+s.toLowerCase()).hide(),saswp_enable_rating_automate()}).change(),jQuery("#saswp_schema_type_product_pros_enable_pros").change(function(){jQuery(this).is(":checked")?jQuery(".thepros_main_section_outer").show():jQuery(".thepros_main_section_outer").hide()}).change())}function saswp_enable_rating_automate(){var s="";jQuery("select#schema_type option:selected").val()&&(s=jQuery("select#schema_type option:selected").val()),jQuery(".saswp-tab-links.selected").attr("saswp-schema-type")&&(s=jQuery(".saswp-tab-links.selected").attr("saswp-schema-type")),s&&jQuery(".saswp-enable-rating-automate-"+s.toLowerCase()).change(function(){jQuery(this).is(":checked")&&jQuery(this).is(":visible")?(jQuery(this).parent().parent().next().show(),jQuery(this).parent().parent().next().next().hide(),jQuery(this).parent().parent().next().next().next().hide()):(jQuery(this).parent().parent().next().hide(),jQuery(".saswp-enable-rating-review-"+s.toLowerCase()).is(":checked")&&(jQuery(this).parent().parent().next().next().show(),jQuery(this).parent().parent().next().next().next().show()))}).change()}function getParameterByName(s,a){a||(a=window.location.href);var e=RegExp("[?&]"+(s=s.replace(/[\[\]]/g,"\\$&"))+"(=([^&#]*)|&|#|$)").exec(a);return e?e[2]?decodeURIComponent(e[2].replace(/\+/g," ")):"":null}function saswpCustomSelect2(){("saswp"==saswp_localize_data.post_type||"saswp"==saswp_localize_data.page_now)&&"saswp_page_structured_data_options"!=saswp_localize_data.page_now&&jQuery(".saswp-custom-fields-select2").length&&jQuery(".saswp-custom-fields-select2").select2({ajax:{type:"POST",url:ajaxurl,dataType:"json",delay:250,data:function(s){return{saswp_security_nonce:saswp_localize_data.saswp_security_nonce,q:s.term,action:"saswp_get_custom_meta_fields"}},processResults:function(s){return{results:s}},cache:!0},minimumInputLength:2})}function saswp_reviews_datepicker(){jQuery(".saswp-reviews-datepicker-picker").datepicker({dateFormat:"yy-mm-dd"})}function saswp_schema_datepicker(){jQuery(".saswp-datepicker-picker").datepicker({dateFormat:"yy-mm-dd"})}function saswp_schema_timepicker(){jQuery(".saswp-timepicker").timepicker({timeFormat:"H:i:s"})}function saswp_item_reviewed_ajax(s,a,e=null){var t=a.val(),n=saswp_localize_data.post_id,p=jQuery(a).attr("data-id"),l=jQuery(a).attr("post-specific"),c=jQuery(".saswp_modify_this_schema_hidden_"+p).val();append_id=null==e?jQuery("#saswp_specific_"+p):jQuery(".saswp-manual-modification"),jQuery.get(ajaxurl,{action:"saswp_get_item_reviewed_fields",modify_this:c,schema_type:s,schema_id:p,post_specific:l,item:t,post_id:n,saswp_security_nonce:saswp_localize_data.saswp_security_nonce},function(s){jQuery(append_id).find(".saswp-table-create-onajax").remove();var a=jQuery(append_id).find(".saswp-table-create-onload");jQuery.each(a,function(s,a){0!=s&&jQuery(this).remove()}),jQuery(append_id).append(s),saswp_schema_datepicker(),saswp_schema_timepicker()})}function saswp_item_reviewed_call(){jQuery(".saswp-item-reviewed").change(function(s){s.preventDefault();var a="";jQuery("select#schema_type option:selected").val()&&(a=jQuery("select#schema_type option:selected").val()),jQuery(".saswp-tab-links.selected").attr("saswp-schema-type")&&(a=jQuery(".saswp-tab-links.selected").attr("saswp-schema-type")),"Review"===a&&saswp_item_reviewed_ajax(a,jQuery(this))}).change()}function saswp_compatibliy_notes(s,a){var e=a.replace("-checkbox",""),t=jQuery("#"+e).next("p").text();s.is(":checked")&&""!==t?jQuery("#"+e).next("p").removeClass("saswp_hide"):1==jQuery("#"+e).next("p").attr("data-id")?jQuery("#"+e).next("p").text("This feature is only available in pro version"):jQuery("#"+e).next("p").addClass("saswp_hide")}function saswp_meta_list_html(s,a,e,t,n,p){var l=t;null==l&&(l=Object.keys(e)[0]);var c="";if(c+='<select class="saswp-custom-meta-list" name="saswp_meta_list_val['+l+']">',jQuery.each(a,function(s,a){c+='<optgroup label="'+a.label+'">',jQuery.each(a["meta-list"],function(s,a){c+='<option value="'+s+'">'+a+"</option>"}),c+="</optgroup>"}),c+="</select>",e){var o=jQuery("select#schema_type option:selected").val(),r="";"Review"==o&&(r=jQuery("select.saswp-item-reivewed-list option:selected").val());var w="<tr>";w+="<td>",w+='<select class="saswp-custom-fields-name">',"Review"==o&&(w+='<optgroup label="Review">',w+='<option value="saswp_review_name">Review Name</option>',w+='<option value="saswp_review_description">Review Description</option>',w+='<option value="saswp_review_body">Review Body</option>',w+='<option value="saswp_review_author">Review Author</option>',w+='<option value="saswp_review_author_url">Review Author Profile URL</option>',w+='<option value="saswp_review_publisher">Review Publisher</option>',w+='<option value="saswp_review_publisher_url">Review Publisher URL</option>',w+='<option value="saswp_review_rating_value">Review Rating Value</option>',w+='<option value="saswp_review_date_published">Review Published Date</option>',w+='<option value="saswp_review_date_modified">Review Modified Date</option>',w+='<option value="saswp_review_url">Review URL</option>',w+="</optgroup>"),"Review"==o&&(w+='<optgroup label="'+r+'">'),jQuery.each(e,function(s,a){w+='<option value="'+s+'">'+a+"</option>"}),"Review"==o&&(w+="</optgroup>"),w+="</select>",w+="</td>",w+="<td>",w+=c,w+="</td>",w+='<td></td><td><a class="button button-default saswp-rmv-modify_row">X</a></td>',w+="</tr>",jQuery(".saswp-custom-fields-table").append(w),null!=s&&s.removeClass("updating-message")}else jQuery(n).html(c),null!=s&&s.removeClass("updating-message")}function saswp_get_meta_list(s,a,e,t,n,p){saswp_meta_list[a]?saswp_meta_list_html(s,saswp_meta_list[a],e,n,t,p):jQuery.get(ajaxurl,{action:"saswp_get_meta_list",saswp_security_nonce:saswp_localize_data.saswp_security_nonce},function(l){saswp_meta_list[a]=l[a],saswp_meta_list_html(s,saswp_meta_list[a],e,n,t,p)},"json")}function saswp_get_post_specific_schema_fields(s,a,e,t,n,p,l){if(saswp_meta_fields[p]){var c=saswp_fields_html_generator(a,n,p,t,saswp_meta_fields[p]);c&&(jQuery(".saswp-"+t+'-section[data-id="'+n+'"]').append(c),saswp_schema_datepicker(),saswp_schema_timepicker(),s.removeClass("updating-message"))}else jQuery.get(ajaxurl,{action:"saswp_get_schema_dynamic_fields_ajax",schema_id:n,schema_type:l,meta_name:e,saswp_security_nonce:saswp_localize_data.saswp_security_nonce},function(e){saswp_meta_fields[p]=e;var l=saswp_fields_html_generator(a,n,p,t,e);l&&(jQuery(".saswp-"+t+'-section[data-id="'+n+'"]').append(l),saswp_schema_datepicker(),saswp_schema_timepicker(),s.removeClass("updating-message"))},"json")}function saswp_fields_html_generator(s,a,e,t,n){$newclosebtn="",otherRepeatorClose="",$reviewtitle=s+1,"product_pros_"==e||"product_cons_"==e?$newclosebtn='<td class="saswp-table-close-new-td"><a class="saswp-table-close-new">X</a></td>':otherRepeatorClose='<a class="saswp-table-close">X</a>',$addRevewTitle="","product_reviews_"==e&&($addRevewTitle='<h3 style="float: left;">Review '+$reviewtitle+"</h3>");var p="";return p+='<div class="saswp-'+t+'-table-div saswp-dynamic-properties" data-id="'+s+'">'+$addRevewTitle+otherRepeatorClose+'<table class="form-table saswp-'+t+'-table">',jQuery.each(n,function(t,n){var l="";switch((n.name.indexOf("published_date")>-1||n.name.indexOf("date_created")>-1||n.name.indexOf("created_date")>-1||n.name.indexOf("modified_date")>-1||n.name.indexOf("date_published")>-1||n.name.indexOf("date_modified")>-1)&&(l="saswp-datepicker-picker"),n.type){case"number":case"text":p+="<tr><th>"+n.label+'</th><td><input class="'+l+'" style="width:100%" type="'+n.type+'" id="'+n.name+"_"+s+"_"+a+'" name="'+e+a+"["+s+"]["+n.name+']"></td>'+$newclosebtn+"</tr>";break;case"textarea":p+="<tr><th>"+n.label+'</th><td><textarea style="width: 100%" id="'+n.name+"_"+s+"_"+a+'" name="'+e+a+"["+s+"]["+n.name+']" rows="5"></textarea></td></tr>';break;case"select":var c="";jQuery.each(n.options,function(s,a){c+='<option value="'+s+'">'+a+"</option>"}),p+="<tr><th>"+n.label+'</th><td><select id="'+n.name+"_"+s+"_"+a+'" name="'+e+a+"["+s+"]["+n.name+']">'+c+"</select></td></tr>";break;case"media":p+="<tr><th>"+n.label+'</th><td><fieldset><input style="width:80%" type="text" id="'+n.name+"_"+s+"_"+a+'" name="'+n.name+"_"+s+"_"+a+'"><input type="hidden" data-id="'+n.name+"_"+s+"_"+a+'_id" name="'+e+a+"["+s+"]["+n.name+'_id]" id="'+n.name+"_"+s+"_"+a+'_id"><input data-id="media" style="width: 19%" class="button" id="'+n.name+"_"+s+"_"+a+'_button" name="'+n.name+"_"+s+"_"+a+'_button" type="button" value="Upload"><div class="saswp_image_div_'+n.name+"_"+s+"_"+a+'"></div></fieldset></td></tr>'}}),p+="</table></div>"}function saswp_create_total_collection(s,a){var e="";for(var t in saswp_total_collection=[],saswp_collection)saswp_collection[t]&&(jQuery.each(saswp_collection[t],function(e,t){rmv_boolean?t.is_remove=!0:t.is_remove=!1,s?t.saswp_review_rating>=a&&saswp_total_collection.push(t):saswp_total_collection.push(t)}),e+=saswp_function_added_platform(t,saswp_collection[t].length));jQuery(".saswp-platform-added-list").html(""),jQuery(".saswp-platform-added-list").append(e)}function saswp_create_rating_html_by_value(s){var a="";a+='<div class="saswp-rvw-str">';for(var e=0;e<5;e++)if(s>e){var t=s.split(".");t[1]?e<t[0]?a+='<span class="str-ic"></span>':a+='<span class="half-str"></span>':a+='<span class="str-ic"></span>'}else a+='<span class="df-clr"></span>';return a+"</div>"}function saswpChunkArray(s,a){for(var e=JSON.parse(JSON.stringify(s)),t=[];e.length;)t.push(e.splice(0,a));return t}function saswp_function_added_platform(s,a){var e="";return a>0&&(e+='<div class="cancel-btn">',e+="<span>"+jQuery("#saswp-plaftorm-list option[value="+s+"]").text()+"</span><span>("+a+")</span>",e+='<input type="hidden" name="saswp_platform_ids['+s+']" value="'+a+'">',e+='<a platform-id="'+s+'" class="button button-default saswp-remove-platform"></a>',e+="</div>"),e}function saswpCollectionSlider(){jQuery(".saswp-cs").each(function(){var s=jQuery(this),a=s.find(".saswp-sic");function e(){var s=0;jQuery(a).find(".saswp-si").each(function(){s+=jQuery(this).outerWidth()}),a.width(s)}function t(){if(jQuery(".saswp-si.saswp-active").length>0){var s=a.find(".saswp-si.saswp-active").offset().left,e=a.offset().left;a.css({transform:"translate( -"+(s-e)+"px, 0px)"})}}0==a.find(".saswp-si.saswp-active").length&&a.find(".saswp-si").first().addClass("saswp-active"),e(),t(),function e(){var t=a.find(".saswp-si.saswp-active").index(),n=a.find(".saswp-si").length;for(i=0;i<n;i++)s.find(".saswp-slider-dots").append("<div class='saswp-dot'></div>");s.find(".saswp-slider-dots").find(".saswp-dot").eq(t).addClass("saswp-active")}(),jQuery(document).ready(function(){e(),t()}),jQuery(window).resize(function(){e(),t()});var n=s.find(".saswp-slider-controls").find(".saswp-slider-next-btn"),p=s.find(".saswp-slider-controls").find(".saswp-slider-prev-btn");n.on("click",function(e){var t,n,p,l,c,o;e.preventDefault(),t=a.find(".saswp-si.saswp-active").index(),n=a.find(".saswp-si").length,p=0,p=t+1>n-1?0:t+1,l=a.find(".saswp-si").eq(p),c=a.offset().left,o=l.offset().left-c,a.find(".saswp-si.saswp-active").removeClass("saswp-active"),l.addClass("saswp-active"),s.find(".saswp-slider-dots").find(".saswp-dot").removeClass("saswp-active"),s.find(".saswp-slider-dots").find(".saswp-dot").eq(p).addClass("saswp-active"),a.css({transform:"translate( -"+o+"px, 0px)"})}),p.on("click",function(e){var t,n,p,l,c,o;e.preventDefault(),t=a.find(".saswp-si.saswp-active").index(),n=a.find(".saswp-si").length,p=0,p=t-1<0?n-1:t-1,l=a.find(".saswp-si").eq(p),c=a.offset().left,o=l.offset().left-c,a.find(".saswp-si.saswp-active").removeClass("saswp-active"),l.addClass("saswp-active"),s.find(".saswp-slider-dots").find(".saswp-dot").removeClass("saswp-active"),s.find(".saswp-slider-dots").find(".saswp-dot").eq(p).addClass("saswp-active"),a.css({transform:"translate( -"+o+"px, 0px)"})}),s.find(".saswp-slider-dots").find(".saswp-dot").on("click",function(e){var t=jQuery(this).index(),n=a.find(".saswp-si").eq(t).offset().left-a.offset().left;a.find(".saswp-si.saswp-active").removeClass("saswp-active"),a.find(".saswp-si").eq(t).addClass("saswp-active"),s.find(".saswp-slider-dots").find(".saswp-dot").removeClass("saswp-active"),jQuery(this).addClass("saswp-active"),a.css({transform:"translate( -"+n+"px, 0px)"})})})}function saswp_review_desing_for_slider(s){var a=saswp_convert_datetostring(s.saswp_review_date);""!=s.saswp_is_date_in_days&&"days"==s.saswp_is_date_in_days&&(a.date=s.saswp_review_date);var e="";return e+='<div class="saswp-r2-sli">',e+='<div class="saswp-r2-b">',e+='<div class="saswp-r2-q">',e+='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Capa_1" x="0px" y="0px" width="95.333px" height="95.332px" viewBox="0 0 95.333 95.332" style="enable-background:new 0 0 95.333 95.332;" xml:space="preserve"><path d="M30.512,43.939c-2.348-0.676-4.696-1.019-6.98-1.019c-3.527,0-6.47,0.806-8.752,1.793    c2.2-8.054,7.485-21.951,18.013-23.516c0.975-0.145,1.774-0.85,2.04-1.799l2.301-8.23c0.194-0.696,0.079-1.441-0.318-2.045    s-1.035-1.007-1.75-1.105c-0.777-0.106-1.569-0.16-2.354-0.16c-12.637,0-25.152,13.19-30.433,32.076    c-3.1,11.08-4.009,27.738,3.627,38.223c4.273,5.867,10.507,9,18.529,9.313c0.033,0.001,0.065,0.002,0.098,0.002    c9.898,0,18.675-6.666,21.345-16.209c1.595-5.705,0.874-11.688-2.032-16.851C40.971,49.307,36.236,45.586,30.512,43.939z"></path><path d="M92.471,54.413c-2.875-5.106-7.61-8.827-13.334-10.474c-2.348-0.676-4.696-1.019-6.979-1.019    c-3.527,0-6.471,0.806-8.753,1.793c2.2-8.054,7.485-21.951,18.014-23.516c0.975-0.145,1.773-0.85,2.04-1.799l2.301-8.23    c0.194-0.696,0.079-1.441-0.318-2.045c-0.396-0.604-1.034-1.007-1.75-1.105c-0.776-0.106-1.568-0.16-2.354-0.16    c-12.637,0-25.152,13.19-30.434,32.076c-3.099,11.08-4.008,27.738,3.629,38.225c4.272,5.866,10.507,9,18.528,9.312    c0.033,0.001,0.065,0.002,0.099,0.002c9.897,0,18.675-6.666,21.345-16.209C96.098,65.559,95.376,59.575,92.471,54.413z"></path></svg>',e+="</div>",e+='<div class="saswp-rc-cnt">',e+="<p>",e+=s.saswp_review_text,e+="</p>",e+="</div>",e+='<div class="saswp-r2-strs">',e+='<span class="saswp-r2-s">',e+=saswp_create_rating_html_by_value(s.saswp_review_rating),e+="</span>",e+="</div>",e+="</div>",e+='<div class="saswp-rc">',e+='<div class="saswp-rc-a">',e+='<img src="'+s.saswp_reviewer_image+'"/>',e+='<div class="saswp-rc-nm">',e+='<a href="#">'+s.saswp_reviewer_name+"</a>",e+='<span class="saswp-rc-dt">'+a.date+"</span>",e+="</div>",e+='<div class="saswp-rc-lg">',e+='<img src="'+s.saswp_review_platform_icon+'"/>',e+="</div>",e+="</div>",e+="</div>",e+="</div>"}function saswp_create_collection_slider(s,a,e){var t="";if(saswp_total_collection.length>0){if("slider"==s?t+='<div class="saswp-cst">':t+='<div class="saswp-cct">',t+='<div class="saswp-cs">',t+='<div class="saswp-sic">',"slider"==s&&jQuery.each(saswp_total_collection,function(s,a){t+='<div class="saswp-si">',t+=saswp_review_desing_for_slider(a),t+="</div>"}),"carousel"==s){var n=saswpChunkArray(saswp_total_collection,3);n&&jQuery.each(n,function(s,a){t+='<div class="saswp-si">',jQuery.each(a,function(s,a){t+=saswp_review_desing_for_slider(a)}),t+="</div>"})}t+="</div>",a&&(t+='<div class="saswp-slider-controls">',t+='<a href="#" class="saswp-slider-prev-btn"></a>',t+='<a href="#" class="saswp-slider-next-btn"></a>',t+="</div>"),e&&(t+='<div class="saswp-slider-dots">',t+="</div>"),t+="</div>",t+="</div>"}jQuery(".saswp-collection-preview").html(""),jQuery(".saswp-collection-preview").append(t),saswpCollectionSlider()}function saswp_create_collection_badge(){var s="";if(saswp_total_collection.length>0){for(var a in s+='<div class="saswp-rd3-warp">',s+="<ul>",saswp_collection){var e="",t="",n=0,p=0,l=1,c="";jQuery.each(saswp_collection[a],function(s,a){c=a.saswp_review_location_id,e=a.saswp_review_platform_icon,"Self"==(t=a.saswp_review_platform_name)&&(t=saswp_localize_data.trans_self),p+=parseFloat(a.saswp_review_rating),n++}),p>0&&(l=p/n),saswp_collection[a]&&(s+="<li>",s+='<a target="_blank" href="'+c+'">',s+='<div class="saswp-r3-lg">',s+="<span>",s+='<img src="'+e+'"/>',s+="</span>",s+='<span class="saswp-r3-tlt">'+t+'</span">',s+="</div>",s+='<div class="saswp-r3-rtng">',s+='<div class="saswp-r3-rtxt">',s+='<span class="saswp-r3-num">',s+=l.toFixed(1),s+="</span>",s+='<span class="saswp-stars">',s+=saswp_create_rating_html_by_value(l.toString()),s+="</span>",s+="</div>",s+='<span class="saswp-r3-brv">',s+=saswp_localize_data.trans_based_on+" "+n+" "+saswp_localize_data.trans_reviews,s+="</span>",s+="</div>",s+="</a>",s+="</li>")}s+="</ul>",s+="</div>"}jQuery(".saswp-collection-preview").html(""),jQuery(".saswp-collection-preview").append(s)}function saswp_create_collection_popup(){var s="",a="";if(saswp_total_collection.length>0){var e=0,t=0,n=1;jQuery.each(saswp_total_collection,function(s,n){platform_icon=n.saswp_review_platform_icon,t+=parseFloat(n.saswp_review_rating),e++;var p=saswp_convert_datetostring(n.saswp_review_date);""!=n.saswp_is_date_in_days&&"days"==n.saswp_is_date_in_days&&(p.date=n.saswp_review_date),a+="<li>",a+='<div class="saswp-r4-b">',a+='<span class="saswp-r4-str">',a+=saswp_create_rating_html_by_value(n.saswp_review_rating),a+="</span>",a+='<span class="saswp-r4-tx">'+p.date+"</span>",a+="</div>",a+='<div class="saswp-r4-cnt">',a+="<h3>"+n.saswp_reviewer_name+"</h3>",a+="<p>"+n.saswp_review_text+"</p>",a+="</div>",a+="</li>"}),t>0&&(n=t/e),e>0&&(s+='<div id="saswp-sticky-review">',s+='<div class="saswp-open-class saswp-popup-btn">',s+='<div class="saswp-opn-cls-btn">',s+='<div class="saswp-onclick-hide">',s+="<span>",s+=saswp_create_rating_html_by_value(n.toString()),s+="</span>",s+='<span class="saswp-r4-rnm">'+n.toFixed(1)+" from "+e+" reviews</span>",s+="</div>",s+='<div class="saswp-onclick-show">',s+="<span>Ratings and reviews</span>",s+='<span class="saswp-mines"></span>',s+="</div>",s+="</div>",s+='<div id="saswp-reviews-cntn">',s+='<div class="saswp-r4-info">',s+="<ul>",s+='<li class="saswp-r4-r">',s+="<span>",s+=saswp_create_rating_html_by_value(n.toString()),s+="</span>",s+='<span class="saswp-r4-rnm">'+n.toFixed(1)+" from "+e+" reviews</span>",s+="</li>",s+=a,s+="</ul>",s+="</div>",s+="</div>",s+="</div>",s+="</div>")}jQuery(".saswp-collection-preview").html(""),jQuery(".saswp-collection-preview").append(s)}function saswp_create_collection_fomo(s,a){var e="";saswp_total_collection.length>0&&jQuery.each(saswp_total_collection,function(s,a){var t=saswp_convert_datetostring(a.saswp_review_date);""!=a.saswp_is_date_in_days&&"days"==a.saswp_is_date_in_days&&(t.date=a.saswp_review_date),e+='<div id="'+s+'" class="saswp-r5">',e+='<div class="saswp-r5-r">',e+='<div class="saswp-r5-lg">',e+="<span>",e+='<img height="70" width="70" src="'+a.saswp_review_platform_icon+'"/>',e+="</span>",e+="</div>",e+='<div class="saswp-r5-rng">',e+=saswp_create_rating_html_by_value(a.saswp_review_rating),e+='<div class="saswp-r5-txrng">',e+="<span>"+a.saswp_review_rating+" Stars</span>",e+="<span>by</span>",e+="<span>"+a.saswp_reviewer_name+"</span>",e+="</div>",e+='<span class="saswp-r5-dt">'+t.date+"</span>",e+="</div>",e+="</div>",e+="</div>"}),jQuery(".saswp-collection-preview").html(""),jQuery(".saswp-collection-preview").append(e),saswp_fomo_slide(s,a)}function saswp_fomo_slide(s,a){var e=jQuery(".saswp-collection-preview .saswp-r5"),t=e.length,n=0;!function s(){e.eq(n%t).fadeIn(6e3,function(){e.eq(n%t).fadeOut(3e3,s),n++})}()}function saswp_collection_sorting(s){if(saswp_total_collection.length>0)switch(s){case"lowest":saswp_total_collection.sort(function(s,a){return s.saswp_review_rating-a.saswp_review_rating});break;case"highest":saswp_total_collection.sort(function(s,a){return s.saswp_review_rating-a.saswp_review_rating}),saswp_total_collection.reverse();break;case"newest":case"recent":saswp_total_collection.sort(function(s,a){var e=new Date(s.saswp_review_date),t=new Date(a.saswp_review_date);return e-t}),saswp_total_collection.reverse();break;case"oldest":saswp_total_collection.sort(function(s,a){var e=new Date(s.saswp_review_date),t=new Date(a.saswp_review_date);return e-t});break;case"random":saswp_total_collection.sort(function(s,a){return .5-Math.random()})}}function saswp_collection_total_reviews_id(){if(saswp_total_collection.length>0){saswp_total_reviews=[],jQuery.each(saswp_total_collection,function(s,a){saswp_total_reviews.push(a.saswp_review_id)});var s='<input type="hidden" id="saswp_total_reviews_list" name="saswp_total_reviews" value="'+JSON.stringify(saswp_total_reviews)+'">';jQuery(".saswp-total-reviews-list").html(""),jQuery(".saswp-total-reviews-list").append(s)}}function saswp_create_collection_grid(s,a,e,t,n){var p="",l="",c=0;if(saswp_total_collection.length>0){c=Math.ceil(saswp_total_collection.length/e),p+='<div class="saswp-r1">';for(var o=1;o<=s;o++)l+=" 1fr";if(s.length>3?p+='<ul style="grid-template-columns:'+l+';overflow-y: scroll;">':p+='<ul style="grid-template-columns:'+l+';overflow-y:hidden;">',saswp_total_collection){var r=saswp_total_collection;a&&e>0&&(r=r.slice(t,n)),jQuery.each(r,function(s,a){var e=saswp_convert_datetostring(a.saswp_review_date);p+="<li>",p+='<div class="saswp-rc">',p+='<div class="saswp-rc-a">',p+='<div class="saswp-r1-aimg">',p+='<img src="'+a.saswp_reviewer_image+'" width="56" height="56"/>',p+="</div>",p+='<div class="saswp-rc-nm">',p+='<a href="#">'+a.saswp_reviewer_name+"</a>",p+=saswp_create_rating_html_by_value(a.saswp_review_rating),e.date&&(p+='<span class="saswp-rc-dt">'+e.date+"</span>"),p+="</div>",p+="</div>",p+='<div class="saswp-rc-lg">',p+='<img src="'+a.saswp_review_platform_icon+'"/>',p+="</div>",p+="</div>",p+='<div class="saswp-rc-cnt">',p+="<p>"+a.saswp_review_text+"</p>",p+="</div>",a.is_remove&&(p+='<span platform-id="'+a.saswp_review_platform+'" data-id="'+a.saswp_review_id+'" class="dashicons dashicons-remove saswp-remove-coll-rv"></span>'),p+="</li>"})}if(p+="</ul>",c>0&&a){p+='<div class="saswp-grid-pagination">',p+='<a class="saswp-grid-page" data-id="1" href="#">&laquo;</a>';for(var w=parseInt(saswp_grid_page)-3,d=parseInt(saswp_grid_page)+3,o=1;o<=c;o++){var v="saswp_hide";o>w&&o<d&&(v=""),o==saswp_grid_page?p+='<a class="active saswp-grid-page '+v+'" data-id="'+o+'" href="#">'+o+"</a>":p+='<a class="saswp-grid-page '+v+'" data-id="'+o+'" href="#">'+o+"</a>"}p+='<a class="saswp-grid-page" data-id="'+c+'" href="#">&raquo;</a>',p+="</div>"}p+="</div>"}jQuery(".saswp-collection-preview").html(""),jQuery(".saswp-collection-preview").append(p)}function saswp_create_collection_by_design(s,a,e,t,n,p,l,c,o,r,w){switch(s){case"grid":saswp_create_collection_grid(a,c,o,r,w);break;case"gallery":saswp_create_collection_slider(e,t,n);break;case"badge":saswp_create_collection_badge();break;case"popup":saswp_create_collection_popup();break;case"fomo":saswp_create_collection_fomo(p,l)}}function saswp_on_collection_design_change(){var s=jQuery(".saswp-collection-sorting").val(),a=jQuery("#saswp_collection_specific_rating_sel").val(),e=jQuery(".saswp-collection-desing").val(),t=jQuery("#saswp-collection-cols").val(),n=jQuery(".saswp-slider-type").val(),p=jQuery("#saswp_fomo_interval").val(),l=parseInt(jQuery("#saswp-coll-per-page").val()),c=!1,o=0,r=l,w=!1;if(jQuery("#saswp-coll-pagination").is(":checked")){c=!0;var d=saswp_grid_page;d>0&&(r=d*l),o=r-l}if(jQuery("#saswp_collection_specific_rating").is(":checked")&&(w=!0),jQuery("#saswp_gallery_arrow").is(":checked"))var v=!0;else var v=!1;if(jQuery("#saswp_gallery_dots").is(":checked"))var f=!0;else var f=!1;saswp_create_total_collection(w,a),saswp_collection_sorting(s),saswp_collection_total_reviews_id(),saswp_create_collection_by_design(e,t,n,v,f,p,p,c,l,o,r)}function saswp_get_collection_data(s,a,e=null,t=null,n=null){jQuery.get(ajaxurl,{action:"saswp_add_to_collection",rvcount:s,reviews_ids:n,review_id:t,platform_id:a,saswp_security_nonce:saswp_localize_data.saswp_security_nonce},function(s){s.status&&(jQuery.each(s.message,function(s,a){var e=JSON.parse(a.saswp_review_platform),t=[];if(t.push(a),void 0===saswp_collection[e])saswp_collection[e]=t;else{var n=[...new Set([...saswp_collection[e],...t])];saswp_collection[e]=n}}),saswp_on_collection_design_change()),e&&e.removeClass("updating-message")},"json")}function saswpIsEmail(s){return/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(s)}function saswp_select2(){var s=jQuery(".saswp-select2");s.length>0&&jQuery(s).each(function(s,a){var e=jQuery(this),t=jQuery("option[value]:not([selected])",e),n=[];t.each(function(){var s=jQuery(this);n.push({id:s.attr("value"),text:s.text()})});var p=e.attr("data-type"),l=ajaxurl+"?action=saswp_get_select2_data&saswp_security_nonce="+saswp_localize_data.saswp_security_nonce+"&type="+p;e.select2({ajax:{url:l,delay:250,cache:!1},minimumInputLength:2,minimumResultsForSearch:50,dataAdapter:jQuery.fn.select2.amd.require("select2/data/extended-ajax"),defaultResults:n})})}